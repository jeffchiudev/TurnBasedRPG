[gd_scene load_steps=12 format=3 uid="uid://1fq7ptlikpxx"]

[ext_resource type="Script" uid="uid://dyfe2d3iln2ji" path="res://TurnManager.gd" id="1_b278l"]
[ext_resource type="PackedScene" uid="uid://y5pe4qd52s4f" path="res://Character.tscn" id="1_ttbo7"]
[ext_resource type="Resource" uid="uid://dqfmowkwnmghb" path="res://Combat Actions/Slash.tres" id="3_bqhns"]
[ext_resource type="Texture2D" uid="uid://b4fsivcic0esa" path="res://Sprites/Dragon.png" id="3_musxc"]
[ext_resource type="Resource" uid="uid://shuvbji6tpdp" path="res://Combat Actions/Heal.tres" id="4_donlu"]
[ext_resource type="Texture2D" uid="uid://b3iqbhlvuolcc" path="res://Sprites/Reptile.png" id="4_teshm"]
[ext_resource type="Resource" uid="uid://bsf445ffjt4ik" path="res://Combat Actions/Stomp.tres" id="5_xj46k"]
[ext_resource type="Script" uid="uid://bjb8h7vptuon5" path="res://CombatActionButton.gd" id="8_donlu"]
[ext_resource type="Script" uid="uid://ba00klr7bkbx1" path="res://PlayerUI.gd" id="8_xj46k"]

[sub_resource type="Gradient" id="Gradient_k6106"]
offsets = PackedFloat32Array(0, 0.493506, 1)
colors = PackedColorArray(0.194349, 0.194349, 0.194349, 1, 0.300162, 0.624607, 0.601195, 1, 0.614919, 0.950522, 0.879564, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ttbo7"]
gradient = SubResource("Gradient_k6106")
fill_from = Vector2(1, 0.706422)
fill_to = Vector2(0, 0.678899)

[node name="BattleScene" type="Node2D" node_paths=PackedStringArray("player_char", "enemy_char")]
script = ExtResource("1_b278l")
player_char = NodePath("Player")
enemy_char = NodePath("Enemy")

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -387.0
offset_top = -218.0
offset_right = 381.0
offset_bottom = 218.0
texture = SubResource("GradientTexture2D_ttbo7")

[node name="Player" parent="." node_paths=PackedStringArray("opponent") instance=ExtResource("1_ttbo7")]
position = Vector2(-231, -72)
is_player = true
combat_actions = [ExtResource("3_bqhns"), ExtResource("4_donlu"), ExtResource("5_xj46k")]
opponent = NodePath("../Enemy")
visual = ExtResource("3_musxc")

[node name="Enemy" parent="." node_paths=PackedStringArray("opponent") instance=ExtResource("1_ttbo7")]
position = Vector2(216, -72)
combat_actions = [ExtResource("4_donlu"), ExtResource("3_bqhns")]
opponent = NodePath("../Player")
visual = ExtResource("4_teshm")
flip_visual = true

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.5, 1.5)

[node name="PlayerCombatActionsUI" type="VBoxContainer" parent="."]
offset_left = -316.0
offset_top = 68.0
offset_right = -120.0
offset_bottom = 205.0
script = ExtResource("8_xj46k")
buttons = [NodePath("CombatAction"), NodePath("CombatAction2"), NodePath("CombatAction3"), NodePath("CombatAction4")]

[node name="CombatAction" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)"
script = ExtResource("8_donlu")

[node name="CombatAction2" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)"
script = ExtResource("8_donlu")

[node name="CombatAction3" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)"
script = ExtResource("8_donlu")

[node name="CombatAction4" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)"
script = ExtResource("8_donlu")

[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction" to="PlayerCombatActionsUI/CombatAction" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction2" to="PlayerCombatActionsUI/CombatAction2" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction3" to="PlayerCombatActionsUI/CombatAction3" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction4" to="PlayerCombatActionsUI/CombatAction4" method="_on_pressed"]
